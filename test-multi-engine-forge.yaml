name: multi-engine-test
artifactStorePath: .ignore.test-artifact-store.yaml

engines:
  - alias: multi-step-builder
    type: builder
    builder:
      - engine: go://generic-builder
        spec:
          command: echo
          args: ["Step 1: Preparing..."]
      - engine: go://generic-builder
        spec:
          command: echo
          args: ["Step 2: Building..."]
      - engine: go://generic-builder
        spec:
          command: echo
          args: ["Step 3: Finalizing..."]

build:
  - name: test-artifact
    src: ./test-src
    dest: ./test-dest
    engine: alias://multi-step-builder
